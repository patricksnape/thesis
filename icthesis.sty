\setlength{\parskip}{\medskipamount}
\setlength{\parindent}{0pt}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% to avoid error messages generated by "\@". Makes Latex treat "@" like a letter
\makeatletter  
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\linespread{1.5}
\def\submitdate#1{\gdef\@submitdate{#1}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\def\maketitle{
  \begin{titlepage}{
    %\linespread{1.5}
    Imperial College London \\
    Department of Computing
    \rm
    \vskip 3in
    \Large \bf \@title \par
  }
  \vskip 0.3in
  \par
  {\Large \@author}
  \vskip 0.3in
  \par
  {\Large \@submitdate}
  \vskip 2.7in
  \par
  {\Large Supervised by Dr. Stefanos Zafeiriou}
  \vskip 0.3in
  \par
  Submitted in part fulfilment of the requirements for the degree of PhD in Computing and
  \linebreak
  the Diploma of Imperial College London. This thesis is entirely my own work, and, except
  \linebreak
  where otherwise indicated, describes my own research.
  \vfil
  \end{titlepage}
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\def\titlepage{
  \newpage
  \centering
  \linespread{1}
  \normalsize
  \vbox to \vsize\bgroup\vbox to 9in\bgroup
}
\def\endtitlepage{
  \par
  \kern 0pt
  \egroup
  \vss
  \egroup
  \cleardoublepage
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\def\abstract{
  \begin{center}{
      \large\bf Abstract}
  \end{center}
  \small
  \linespread{1.5}
  \normalsize
}
\def\endabstract{
  \par
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newenvironment{acknowledgements}{
  \cleardoublepage
  \begin{center}{
    \large \bf Acknowledgements}
  \end{center}
  \small
  \linespread{1.5}
  \normalsize
}{\cleardoublepage}
\def\endacknowledgements{
  \par
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\def\body{    
    \cleardoublepage
    \pagenumbering{roman}
    \pagestyle{plain}
    \tableofcontents
    
    \cleardoublepage
    \doublespacing
    \pagenumbering{arabic}
    \pagestyle{mystyle}
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% to avoid error messages generated by "\@". Makes Latex treat "@" like a letter
\makeatother  
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\normallinespacing}{\renewcommand{\baselinestretch}{1.5} \normalsize}
\newcommand{\mediumlinespacing}{\renewcommand{\baselinestretch}{1.2} \normalsize}
\newcommand{\narrowlinespacing}{\renewcommand{\baselinestretch}{1.0} \normalsize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\titleformat{\chapter}[display]
{\bfseries\huge\raggedleft} % format
{{\fontsize{60}{20}\selectfont \thechapter}} % label
{0ex} % sep
{
    \rule{\textwidth}{1.5pt}
    \vspace{0.2ex}
    \centering
    \fontsize{30}{30}\selectfont
} % before-code
[
\vspace{-1cm}%
\rule{\textwidth}{1.5pt}
] % after-code
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newpagestyle{mystyle}{
  \headrule{}
  \setheadrule{1pt}
  \sethead[][][\large \chaptertitle]{\large \thesection\quad\sectiontitle}{}{}
  
  \footrule{}
  \setfootrule{1pt}
  \setfoot[][\thepage][]{}{\thepage}{}
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\minitoc}{%
  \startcontents[chapters]
  \noindent
  {\Large \textbf{Contents}}
  \\
  \rule{\textwidth}{1pt}
  \printcontents[chapters]{}{1}{}
  \rule{\textwidth}{1pt}
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
